<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css"> <!-- External CSS file -->
        <title>Sign Up</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
            rel="stylesheet">
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    <body>
        <header>
            <h1 style="font-size: 36px;">DHS ELECTRONICS</h1>

            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="#">Products</a></li>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="signup.html">Sign Up</a></li>
                </ul>
            </nav>
        </header>
        <div class="container my-5">
            <h2>User Signup</h2>
            <form id="signup-form">
                <div class="mb-3">
                    <label for="username" class="form-label">Username:</label>
                    <input type="text" class="form-control" id="username"
                        name="username" placeholder="Enter username"
                        onblur="validate(this)">
                    <span id="username-error" class="error"></span>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email:</label>
                    <input type="email" class="form-control" id="email"
                        name="email" placeholder="Enter email"
                        onblur="validate(this)">
                    <span id="email-error" class="error"></span>
                </div>
                <div class="mb-3">
                    <label for="password" class="form-label">Password:</label>
                    <input type="password" class="form-control" id="password"
                        name="password" placeholder="Enter password"
                        onblur="validate(this)">
                    <span id="password-error" class="error"></span>
                </div>
                <div class="mb-3">
                    <label for="confirmPassword" class="form-label">Confirm
                        Password:</label>
                    <input type="password" class="form-control"
                        id="confirmPassword" name="confirmPassword"
                        placeholder="Confirm password" onblur="validate(this)">
                    <span id="confirmPassword-error" class="error"></span>
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
            <div id="json-document">
                <pre></pre>
            </div>

        </div>

        <script>


            const form = document.getElementById("signup-form");
            const jsonDocument = document.querySelector("#json-document pre");

            form.addEventListener("submit", function (event) {
                event.preventDefault();

                const formData = new FormData(form);
                const formDataObject = {};
                formData.forEach((value, key) => {
                    formDataObject[key] = value;
                });

                jsonDocument.textContent = JSON.stringify(formDataObject, null, 2);
            });


function validate(input) {
    const id = input.id;
    const value = input.value;
    const errorElement = document.getElementById(id + "-error");
    errorElement.textContent = "";
    input.style.borderColor = "";

    switch (id) {
        case "username":
            if (value.trim() === "") {
                errorElement.textContent = "Field is required";
                errorElement.style.color = "#FF0000";
                input.style.borderColor = "#FF0000";
            }
            break;
        case "email":
            
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(value)) {
                errorElement.textContent = "Invalid email format";
                errorElement.style.color = "#FF0000";
                input.style.borderColor = "#FF0000";
            }
            break;
        case "password":
            if (value.trim() === "") {
                errorElement.textContent = "Field is required";
                errorElement.style.color = "#FF0000";
                input.style.borderColor = "#FF0000"; 
            }
            break;
        case "confirmPassword":
            const passwordInput = document.getElementById("password");
            if (value !== passwordInput.value) {
                errorElement.textContent = "Passwords do not match";
                errorElement.style.color = "#FF0000";
                input.style.borderColor = "#FF0000";
            }
            break;
        default:
            break;
    }
}

</script>

        <footer>
            <p>&copy; 2023 DHS ELECTRONICS. All rights reserved.</p>
        </footer>
    </body>
</html>
